{"version":3,"sources":["uni-app:///main.js","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?ae75","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?cb55","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?1703","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?696d","uni-app:///pages/orderAdmin/AdminOrderList/index.vue","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?15d7","webpack:////Users/hupeng/hupeng/java/yshopb2c-open/yshopmall/yshop-mall-uniapp/pages/orderAdmin/AdminOrderList/index.vue?6da8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","PriceChange","Loading","DataFormat","props","data","current","change","types","where","page","limit","status","list","loaded","loading","orderInfo","watch","that","onShow","onReachBottom","methods","goGoodsDeliver","path","query","oid","more","modify","changeclose","savePrice","price","refund_price","refund_status","remark","uni","title","icon","duration","init","getIndex","changeStatus","toDetail","offlinePay","order_id","storeCancellation","content","success","then","console","setTimeout","delta","catch"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;AC4Ep4B;AAOA;AACA;AAIA;AAEA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAJ;IACA;EACA;EACAK;IACA;MACA;MACA;QACAC;QACAA;MACA;IACA;IACAV;MACA;IACA;EACA;EACAW;IACA;IACAD;IACAA;IACAA;EACA;EACAE;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACAC;UACAC;QACA;MACA;IACA;IACAC;MACA,mDACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAX,cACAb,WACAyB,8BACAC,4CACAC,6CACAC;gBACA5B;gBAAA,MACAa;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAY,QACA,2DACA;gBAEA;kBACAA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,iCAEA;cAAA;gBAEAzB;gBACA,0CACA;kBACAa;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;kBACAnB;gBACA,GACA;kBACAA;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;gBACA,EACA;gBAAA;gBAAA;cAAA;gBAAA,MACAnB;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAa,eACA,2DACA;gBAEA;kBACAA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,iCAEA;cAAA;gBAEA1B;gBACAA;gBACA,sCACA;kBACAa;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;kBACAnB;gBACA,GACA;kBACAA;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;gBACA,EACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,OAGA;kBACAJ;gBACA;kBACAA;gBACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAAA,iCAEA;cAAA;gBAEA5B;gBACA,2CACA;kBACAa;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;kBACAnB;gBACA,GACA;kBACAA;kBACAgB;oBACAC;oBACAC;oBACAC;kBACA;gBACA,EACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACArB;MACA,+CACA;QACAA;QACAA;QACAA;QACAA;MACA,GACA;QACAgB;UACAC;UACAC;UACAC;QACA;MACA,EACA;IACA;IACAG;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;QACAlB;QACAC;UACAC;QACA;MACA;IACA;IACAiB;MAAA;MACA;QACAC;MACA,QACA;QACAT;UACAC;UACAC;UACAC;QACA;QACA;MACA,GACA;QACAH;UACAC;UACAC;UACAC;QACA;MACA,EACA;IACA;IACAO;MACA;MACA1B;MACA;QACAgB;UACAC;UACAU;UACAC;YACA;cACAZ;gBACAC;cACA;cACA,wCACAY;gBACAC;gBACAd;gBACAhB;gBACAgB;kBACAC;kBACAC;kBACAC;gBACA;gBACA;gBACAY;kBACAf;oBACAgB;oBAAA;oBACAJ;sBACAE;oBACA;kBACA;gBACA;cACA,GACAG;gBACAH;gBACAd;gBACAA;kBACAC;kBACAC;kBACAC;gBACA;cACA;YACA;UACA;QACA;MAEA;QACAnB;UACAK;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5XA;AAAA;AAAA;AAAA;AAAmlD,CAAgB,m4CAAG,EAAC,C;;;;;;;;;;;ACAvmD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/orderAdmin/AdminOrderList/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/orderAdmin/AdminOrderList/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=7aae2325&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/orderAdmin/AdminOrderList/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=7aae2325&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"pos-order-list\" ref=\"container\">\r\n\t\t<view class=\"nav acea-row row-around row-middle\">\r\n\t\t\t<view class=\"item\" :class=\"where.status == 0 ? 'on' : ''\" @click=\"changeStatus(0)\">待付款</view>\r\n\t\t\t<view class=\"item\" :class=\"where.status == 1 ? 'on' : ''\" @click=\"changeStatus(1)\">待发货</view>\r\n\t\t\t<view class=\"item\" :class=\"where.status == 2 ? 'on' : ''\" @click=\"changeStatus(2)\">待收货</view>\r\n\t\t\t<view class=\"item\" :class=\"where.status == 3 ? 'on' : ''\" @click=\"changeStatus(3)\">待评价</view>\r\n\t\t\t<view class=\"item\" :class=\"where.status == 4 ? 'on' : ''\" @click=\"changeStatus(4)\">已完成</view>\r\n\t\t\t<view class=\"item\" :class=\"where.status == -3 ? 'on' : ''\" @click=\"changeStatus(-3)\">退款</view>\r\n\t\t</view>\r\n\t\t<view class=\"list\">\r\n\t\t\t<view class=\"item\" v-for=\"(item, listIndex) in list\" :key=\"listIndex\">\r\n\t\t\t\t<view class=\"order-num acea-row row-middle\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t<text>订单号：{{ item.orderId }}</text>\r\n\t\t\t\t\t<text class=\"time acea-row row-between\">\r\n\t\t\t\t\t\t<text>下单时间：</text>\r\n\t\t\t\t\t\t<text class=\"conter\">{{ item.createTime }}</text>\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"pos-order-goods\" v-for=\"(val, key) in item.cartInfo\" :key=\"key\">\r\n\t\t\t\t\t<view class=\"goods acea-row row-between-wrapper\" @click=\"toDetail(item)\">\r\n\t\t\t\t\t\t<view class=\"picTxt acea-row row-between-wrapper\">\r\n\t\t\t\t\t\t\t<view class=\"pictrue\">\r\n\t\t\t\t\t\t\t\t<image :src=\"val.productInfo.image\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"text acea-row row-between row-column\">\r\n\t\t\t\t\t\t\t\t<view class=\"info line2\">{{ val.productInfo.storeName }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"attr\" v-if=\"val.productInfo.sku\">{{ val.productInfo.sku }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"money\">\r\n\t\t\t\t\t\t\t<view class=\"x-money\">￥{{ val.productInfo.price }}</view>\r\n\t\t\t\t\t\t\t<view class=\"num\">x{{ val.cartNum }}</view>\r\n\t\t\t\t\t\t\t<view class=\"y-money\" v-if=\"val.productInfo.otPrice\">￥{{ val.productInfo.otPrice }}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"public-total\">\r\n\t\t\t\t\t共{{ item.totalNum }}件商品，应支付\r\n\t\t\t\t\t<text class=\"money\">￥{{ item.payPrice }}</text>\r\n\t\t\t\t\t( 邮费 ¥{{item.totalPostage}})\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operation acea-row row-between-wrapper\">\r\n\t\t\t\t\t<view class=\"more\">\r\n\t\t\t\t\t\t<!--            <view class=\"iconfont icon-gengduo\" @click=\"more(index)\"></view>-->\r\n\t\t\t\t\t\t<!--            <view class=\"order\" v-show=\"current === index\">-->\r\n\t\t\t\t\t\t<!--              <view class=\"items\">-->\r\n\t\t\t\t\t\t<!--                {{ where.status > 0 ? \"删除\" : \"取消\" }}订单-->\r\n\t\t\t\t\t\t<!--              </view>-->\r\n\t\t\t\t\t\t<!--              <view class=\"arrow\"></view>-->\r\n\t\t\t\t\t\t<!--            </view>-->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"acea-row row-middle\">\r\n\t\t\t\t\t\t<view class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"where.status == 0\">一键改价</view>\r\n\t\t\t\t\t\t<view class=\"bnt\" @click=\"modify(item, 0)\" v-if=\"where.status == -3 && item.refundStatus === 1\">立即退款</view>\r\n\t\t\t\t\t\t<view class=\"bnt cancel\" v-if=\"item.pay_type === 'offline' && item.paid === 0\" @click=\"offlinePay(item)\">确认付款</view>\r\n\t\t\t\t\t\t<view class=\"bnt\" v-if=\"where.status == 1 && item._status._title=='未发货'\" @click=\"goGoodsDeliver(item)\">去发货</view>\r\n            <view class=\"bnt cancel\" v-if=\"item._status._title=='待核销' && where.status == 1\" @click=\"storeCancellation(0,item.verifyCode)\">快速核销</view>\r\n            <view class=\"bnt\" v-if=\"item._status._title=='待核销' && where.status == 1\" @click=\"storeCancellation(1,item.verifyCode)\">立即核销</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<Loading :loaded=\"loaded\" :loading=\"loading\"></Loading>\r\n\t\t<PriceChange\r\n\t\t:change=\"change\"\r\n\t\t:orderInfo=\"orderInfo\"\r\n\t\tv-on:closechange=\"changeclose($event)\"\r\n\t\tv-on:savePrice=\"savePrice\"\r\n\t\t:status=\"status\"></PriceChange>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport PriceChange from \"@/components/PriceChange\";\r\n\timport Loading from \"@/components/Loading\";\r\n\timport DataFormat from \"@/components/DataFormat\";\r\n\timport {\r\n\t\tgetAdminOrderList,\r\n\t\tsetAdminOrderPrice,\r\n\t\tsetAdminOrderRemark,\r\n\t\tsetOfflinePay,\r\n\t\tsetOrderRefund\r\n\t} from \"@/api/admin\";\r\n  import {orderVerific} from \"@/api/order\";\r\n\timport {\r\n\t\trequired,\r\n\t\tnum\r\n\t} from \"@/utils/validate\";\r\n\timport {\r\n\t\tvalidatorDefaultCatch\r\n\t} from \"@/utils/dialog\";\r\n\texport default {\r\n\t\tname: \"AdminOrderList\",\r\n\t\tcomponents: {\r\n\t\t\tPriceChange,\r\n\t\t\tLoading,\r\n\t\t\tDataFormat\r\n\t\t},\r\n\t\tprops: {},\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrent: \"\",\r\n\t\t\t\tchange: false,\r\n\t\t\t\ttypes: 0,\r\n\t\t\t\twhere: {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tlimit: 5,\r\n\t\t\t\t\tstatus: 0\r\n\t\t\t\t},\r\n\t\t\t\tlist: [],\r\n\t\t\t\tloaded: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\torderInfo: {},\r\n\t\t\t\tstatus: \"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t\"$yroute.query.types\": function(newVal) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (newVal != undefined) {\r\n\t\t\t\t\tthat.where.status = newVal;\r\n\t\t\t\t\tthat.init();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttypes: function() {\r\n\t\t\t\tthis.getIndex();\r\n\t\t\t}\r\n\t\t},\r\n    onShow: function() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.where.status = that.$yroute.query.types;\r\n\t\t\tthat.current = \"\";\r\n\t\t\tthat.getIndex();\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\t!this.loading && this.getIndex();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoGoodsDeliver(item) {\r\n\t\t\t\tthis.$yrouter.push({\r\n\t\t\t\t\tpath: \"/pages/orderAdmin/GoodsDeliver/index\",\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\toid: item.orderId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tmore: function(index) {\r\n\t\t\t\tif (this.current === index) this.current = \"\";\r\n\t\t\t\telse this.current = index;\r\n\t\t\t},\r\n\t\t\tmodify: function(item, status) {\r\n\t\t\t\tthis.change = true;\r\n\t\t\t\tthis.orderInfo = item;\r\n\t\t\t\tthis.status = status;\r\n\t\t\t},\r\n\t\t\tchangeclose: function(msg) {\r\n\t\t\t\tthis.change = msg;\r\n\t\t\t},\r\n\t\t\tasync savePrice(opt) {\r\n\t\t\t\tlet that = this,\r\n\t\t\t\t\tdata = {},\r\n\t\t\t\t\tprice = opt.price.toString(),\r\n\t\t\t\t\trefund_price = opt.refund_price.toString(),\r\n\t\t\t\t\trefund_status = that.orderInfo.refundStatus,\r\n\t\t\t\t\tremark = opt.remark;\r\n\t\t\t\tdata.orderId = that.orderInfo.orderId;\r\n\t\t\t\tif (that.status == 0 && refund_status === 0) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$validator({\r\n\t\t\t\t\t\t\tprice: [\r\n\t\t\t\t\t\t\t\trequired(required.message(\"金额\")),\r\n\t\t\t\t\t\t\t\tnum(num.message(\"金额\"))\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}).validate({\r\n\t\t\t\t\t\t\tprice\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.price = price;\r\n\t\t\t\t\tsetAdminOrderPrice(data).then(\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"改价成功\",\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.init();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction() {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"改价失败\",\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (that.status == 0 && refund_status === 1) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$validator({\r\n\t\t\t\t\t\t\trefund_price: [\r\n\t\t\t\t\t\t\t\trequired(required.message(\"金额\")),\r\n\t\t\t\t\t\t\t\tnum(num.message(\"金额\"))\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}).validate({\r\n\t\t\t\t\t\t\trefund_price\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.price = refund_price;\r\n\t\t\t\t\tdata.type = opt.type;\r\n\t\t\t\t\tsetOrderRefund(data).then(\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.init();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$validator({\r\n\t\t\t\t\t\t\tremark: [required(required.message(\"备注\"))]\r\n\t\t\t\t\t\t}).validate({\r\n\t\t\t\t\t\t\tremark\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\treturn validatorDefaultCatch(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.remark = remark;\r\n\t\t\t\t\tsetAdminOrderRemark(data).then(\r\n\t\t\t\t\t\tres => {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.init();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terr => {\r\n\t\t\t\t\t\t\tthat.change = false;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinit: function() {\r\n\t\t\t\tthis.list = [];\r\n\t\t\t\tthis.where.page = 1;\r\n\t\t\t\tthis.loaded = false;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.getIndex();\r\n\t\t\t\tthis.current = \"\";\r\n\t\t\t},\r\n\t\t\tgetIndex: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (that.loading || that.loaded) return;\r\n\t\t\t\tthat.loading = true;\r\n\t\t\t\tgetAdminOrderList(that.where).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tthat.loading = false;\r\n\t\t\t\t\t\tthat.loaded = res.data.length < that.where.limit;\r\n\t\t\t\t\t\tthat.list.push.apply(that.list, res.data);\r\n\t\t\t\t\t\tthat.where.page = that.where.page + 1;\r\n\t\t\t\t\t},\r\n\t\t\t\t\terr => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tchangeStatus: function(val) {\r\n\t\t\t\tif (this.where.status != val) {\r\n\t\t\t\t\tthis.where.status = val;\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoDetail: function(item) {\r\n\t\t\t\tthis.$yrouter.push({\r\n\t\t\t\t\tpath: \"/pages/orderAdmin/AdminOrder/index\",\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\toid: item.orderId\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tofflinePay: function(item) {\r\n\t\t\t\tsetOfflinePay({\r\n\t\t\t\t\torder_id: item.order_id\r\n\t\t\t\t}).then(\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.init();\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: error.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n      storeCancellation(index,verifyCode) {\r\n        const that = this;\r\n        that.check = true;\r\n        if (index == 0) {\r\n          uni.showModal({\r\n            title: \"确定核销订单?\",\r\n            content: \"注意:请务必核对核销码的与客户正确性\",\r\n            success(res) {\r\n              if (res.confirm) {\r\n                uni.showLoading({\r\n                  title: \"查询中\"\r\n                });\r\n                orderVerific(verifyCode, 1)\r\n                    .then(res => {\r\n                      console.log(res)\r\n                      uni.hideLoading();\r\n                      that.iShidden = false;\r\n                      uni.showToast({\r\n                        title: res.msg,\r\n                        icon: 'none',\r\n                        duration: 1000\r\n                      });\r\n                      //最后就是返回上一个页面。\r\n                      setTimeout(function() {\r\n                        uni.navigateBack({\r\n                          delta: 1, // 返回上一级页面。\r\n                          success: function() {\r\n                            console.log('成功！')\r\n                          }\r\n                        })\r\n                      }, 1000);\r\n                    })\r\n                    .catch((err) => {\r\n                      console.log(err)\r\n                      uni.hideLoading();\r\n                      uni.showToast({\r\n                        title: err.data.msg,\r\n                        icon: \"none\",\r\n                        duration: 2000\r\n                      });\r\n                    });\r\n              }\r\n            }\r\n          });\r\n\r\n        } else {\r\n          that.$yrouter.push({\r\n            path: '/pages/orderAdmin/OrderCancellation/index'\r\n          })\r\n        }\r\n      }\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.quick {\r\n  background: #F25555;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1739765281852\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}